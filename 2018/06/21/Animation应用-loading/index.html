<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="hello world"><title>Animation应用-loading | 面具</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Animation应用-loading</h1><a id="logo" href="/.">面具</a><p class="description">stay who you are</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/python/"><i class="fa fa-coffee"> python</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Animation应用-loading</h1><div class="post-meta">Jun 21, 2018<span> | </span><span class="category"><a href="/categories/前端/">前端</a></span></div><div class="post-content"><p> css3真的很棒，发展很快同时带来无穷无尽的可能，今天我将用css中的多背景图和线性渐变来制作一个精彩的loading加载动画。为了简单起见，css中忽略了浏览器前缀，在创建loading图之前，先来看看一些基本的技巧。</p>
<h4 id="background-image"><a href="#background-image" class="headerlink" title="background-image"></a>background-image</h4><p> 我们都知道 background-image属性，url()指向外部图像文件，该图像作为任何html元素的背景。现在可以用linear-gradient或 radial-gradient 来生成背景图像，只用代码就可以实现，这给我们打开了一个全新的背景世界。<br> 技巧是一次能够添加多个背景图像<br> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: </span><br><span class="line">    background-image</span><br><span class="line">    [, background-image]* <span class="comment">/* optional additional backgrounds */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p> 关于<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/background-image" target="_blank" rel="noopener">background-image</a>的相关信息，和一些<a href="http://lea.verou.me/css3patterns/" target="_blank" rel="noopener">实例</a></p>
<h4 id="如何使用-linear-gradient"><a href="#如何使用-linear-gradient" class="headerlink" title="如何使用 linear-gradient"></a>如何使用 linear-gradient</h4><p> 先用一些实例来了解下它的语法<br> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background-image</span>: <span class="selector-tag">linear-gradient</span>(90<span class="selector-tag">deg</span>, <span class="selector-tag">blue</span>, <span class="selector-tag">red</span>);</span><br></pre></td></tr></table></figure></p>
<p> <div style="background-image: linear-gradient(90deg, blue, red);"> &nbsp;</div><br> 想了解更多关于linear-gradient的属性语法，请看MDN: <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/linear-gradient" target="_blank" rel="noopener">linear-gradient</a></p>
<p> 你会看到以上从蓝到红渐变的图像，渐变的见多了总是显得无聊，能不能画出如下图所示的图像呢<br> <img src="/2018/06/21/Animation应用-loading/sharpcolor.png" alt=""><br>我们来试着实现它，看上面的图片结构，四种不同的颜色各占4分之一的宽度，以百分比来表示，各占25%，对于这种简单的模式推荐使用百分比，以动态地适应元素大小。<br>我们从最左边的颜色开始，先画蓝色<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background-image</span>: <span class="selector-tag">linear-gradient</span>(90<span class="selector-tag">deg</span>, <span class="selector-tag">blue</span> 25%)</span><br></pre></td></tr></table></figure></p>
<p>只是一个将导致空白的背景图像，要获得渐变的效果，我们必须添加两种颜色。接着添加下一个颜色：绿色<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background-image</span>: <span class="selector-tag">linear-gradient</span>(90<span class="selector-tag">deg</span>, <span class="selector-tag">blue</span> 25%, <span class="selector-tag">green</span> 25%)</span><br></pre></td></tr></table></figure></p>
<p><div style="background-image: linear-gradient(90deg, blue 25%, green 25%);"> &nbsp;</div><br>第一个颜色值比较特殊，这里的 ‘bule 25%’指的的是扩展到25%，而不是开始于25%。<br>上图蓝色和绿色锐利分离，这正是我们期待的结果，你可能会注意到我们必须为蓝色和绿色写入25%。开发过程中这很烦人，因为你必须同时改变这两个值才能保持清晰的分离。<br>在使用linear-gradient的时候我发现一种更容易的方式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background-image</span>: <span class="selector-tag">linear-gradient</span>(90<span class="selector-tag">deg</span>, <span class="selector-tag">blue</span> 25%, <span class="selector-tag">green</span> 0);</span><br></pre></td></tr></table></figure>
<p><div style="background-image: linear-gradient(90deg, blue 25%, green 0);"> &nbsp;</div><br>现在只要将绿色的位置设置为’0’.绿色始终与前一个颜色的位置相同。结果跟上面一样，不同的是现在我们只要改变蓝色矩形的大小就可以了。现在我们知道了如果创建一个颜色分割，剩余的颜色就变得容易了。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background-image</span>: <span class="selector-tag">linear-gradient</span>(90<span class="selector-tag">deg</span>, <span class="selector-tag">blue</span> 25%, <span class="selector-tag">green</span> 0, <span class="selector-tag">green</span> 50%, <span class="selector-tag">red</span> 0, <span class="selector-tag">red</span> 75%, <span class="selector-tag">yellow</span> 0)</span><br></pre></td></tr></table></figure>
<p><div style="height: 40px;background-image: linear-gradient(90deg, blue 25%, green 0, green 50%, red 0, red 75%, yellow 0)"> &nbsp;</div><br>你现在可以看到为什么第一个颜色值是特殊的。 对于其他颜色，我们必须定义两次。 一次用于开始位置，另一次用于指定它将延伸的距离。</p>
<h4 id="如何绘制图形"><a href="#如何绘制图形" class="headerlink" title="如何绘制图形"></a>如何绘制图形</h4><p>用background-image 属性来绘制基本形状，请看下面<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.squareandcircle</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>; </span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(90deg, blue, blue),</span><br><span class="line">                    <span class="built_in">radial-gradient</span>(center, circle, green 10px, transparent 0);</span><br><span class="line"></span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">15px</span> <span class="number">15px</span>,</span><br><span class="line">                   <span class="number">20px</span> <span class="number">20px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0</span>    <span class="number">0</span>,</span><br><span class="line">                       <span class="number">20px</span> <span class="number">10px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">background-repeat</span>:no-repeat;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><style><br>.squareandcircle{<br>  width: 40px;<br>  height: 30px;<br>  background-image: linear-gradient(90deg, blue, blue),<br>                    radial-gradient(center, circle, green 10px, transparent 0);</p>
<p>  background-size: 15px 15px,<br>                   20px 20px;</p>
<p>  background-position: 0    0,<br>                       20px 10px;</p>
<p>  background-repeat:no-repeat;<br></style><br>多背景跟background-size和background-position来创建一个圆和正方形</p>
<ol>
<li>background-image<br>首先我们创建一个背景，为了简单起见，用最基本的linear-gradient 和 radial-gradient.</li>
<li>background-size<br>background-size属性将按照创建的相同顺序为每个先前创建的背景图像设置大小。所以在我们的例子中，线性渐变的大小是15x15px。 而对于径向渐变，它是20x20px。</li>
<li>background-position<br>知道我们有一个15x15px大小的正方形和一个适合20x20px正方形的圆形中的两个图像。 但是这些图像是彼此重叠的。 为了移动它们，我们需要背景位置。对于背景位置，我们必须为每个背景图像相对于元素的左上角定义偏移量。<br>这里第一个图像（正方形）将位于左上角，圆圈将向左20px，向下20px。 请记住，我们从元素的左上角移动每个图像。</li>
</ol>
<h3 id="实现loading图"><a href="#实现loading图" class="headerlink" title="实现loading图"></a>实现loading图</h3><p>很简单，创建背景图然后用animation属性改变背景大小和背景位置来实现。<br>先看个实例：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.square</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>; </span><br><span class="line">  <span class="attribute">background-color</span>: gray;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(90deg, blue, blue);</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">15px</span> <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/06/21/Animation应用-loading/Animation/rect.png" alt=""><br>我们通过6个步骤来制作动画，将蓝色背景从右上角移动到右下角再回到左下角。<br>在关键帧动画中，每帧需要16.6％的时间（100％/ 6〜16.6％）。 在每一帧上，修改背景位置产生会移动的错觉。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">keyframes</span> move &#123;</span><br><span class="line">  16<span class="selector-class">.6</span>% &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  33<span class="selector-class">.2</span>% &#123;  </span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">12.5px</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  49<span class="selector-class">.8</span>% &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">25px</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  66<span class="selector-class">.4</span>% &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">25px</span> <span class="number">15px</span>;        </span><br><span class="line">  &#125;</span><br><span class="line">  83% &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">12.5px</span> <span class="number">15px</span>;      </span><br><span class="line">  &#125;</span><br><span class="line">  99% &#123; </span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">15px</span>;               </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后加上animation到元素上查看效果<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.square</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>; </span><br><span class="line">  <span class="attribute">background-color</span>: gray;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(90deg, blue, blue);</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">15px</span> <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">animation</span>: move <span class="number">1s</span> <span class="built_in">steps</span>(1, start) infinite;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/06/21/Animation应用-loading/images/ani.gif" alt=""></p>
<h3 id="现在开始Loading吧"><a href="#现在开始Loading吧" class="headerlink" title="现在开始Loading吧"></a>现在开始Loading吧</h3><p><img src="/2018/06/21/Animation应用-loading/images/loading.gif" alt="先看效果图"><br>在GIF中，我们看到垂直条纹从左到右，同时收缩和丢失颜色。<br>我们放大第一个条纹：<br><img src="/2018/06/21/Animation应用-loading/images/zoomedstripe.png" alt=""><br>第一个形状宽4px，长16px。 围绕3x16像素纯色矩形有1px边框。 为了简单起见，我们将创建的边框也将具有纯色。 为了创建这样的形状，我们必须使用线性梯度生成两个背景图像。 一个用于左边界的实心内部矩形和右边界，另一个用于上下边界。 我们从左边界的线性渐变开始，实心的内部矩形和右边界。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#facebook</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">16px</span> ;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(90deg, #8490c6 1px, #aeb5da 0, #aeb5da 3px, #8490c6 3px);</span><br><span class="line"></span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">4px</span> <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Just to make it a little bigger*/</span></span><br><span class="line">  <span class="attribute">zoom</span>: <span class="number">5</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/06/21/Animation应用-loading/images/cssstripe1.png" alt="效果"></p>
<p>接着我们继续用背景图来添加上下边框<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#facebook</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">16px</span> ;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(0deg, #8490c6 1px, transparent 0, transparent 15px, #8490c6 15px),</span><br><span class="line">                    <span class="built_in">linear-gradient</span>(90deg, #8490c6 1px, #aeb5da 0, #aeb5da 3px, #8490c6 3px);  </span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">4px</span> <span class="number">16px</span>,</span><br><span class="line">                   <span class="number">4px</span> <span class="number">16px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>,</span><br><span class="line">                       <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Just to make it a little bigger*/</span></span><br><span class="line">  <span class="attribute">zoom</span>: <span class="number">5</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/06/21/Animation应用-loading/images/zoomedstripe.png" alt="效果"><br>我们需要画6个类似的图形，颜色和大小会稍有不同。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#loader</span> &#123;</span><br><span class="line">    <span class="attribute">zoom</span>: <span class="number">1</span>; <span class="comment">/* Increase this for a bigger symbol*/</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">16px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(0deg, #f4f5fa 1px, transparent 0, transparent 8px, #f4f5fa 8px),   <span class="comment">/* 6  */</span></span><br><span class="line">                <span class="built_in">linear-gradient</span>(90deg, #f4f5fa 1px, #f6f9fb 0, #f6f9fb 3px, #f4f5fa 3px),</span><br><span class="line"></span><br><span class="line">                <span class="built_in">linear-gradient</span>(0deg, #ececf5 1px, transparent 0, transparent 8px, #ececf5 8px),   <span class="comment">/* 5  */</span></span><br><span class="line">                <span class="built_in">linear-gradient</span>(90deg, #ececf5 1px, #f2f3f9 0, #f2f3f9 3px, #ececf5 3px),</span><br><span class="line"></span><br><span class="line">                <span class="built_in">linear-gradient</span>(0deg, #e7eaf4 1px, transparent 0, transparent 8px, #e7eaf4 8px),   <span class="comment">/* 4  */</span></span><br><span class="line">                <span class="built_in">linear-gradient</span>(90deg, #e7eaf4 1px, #eef1f8 0, #eef1f8 3px, #e7eaf4 3px),</span><br><span class="line"></span><br><span class="line">                <span class="built_in">linear-gradient</span>(0deg, #b9bedd 1px, transparent 0, transparent 10px, #b9bedd 10px), <span class="comment">/* 3  */</span></span><br><span class="line">                <span class="built_in">linear-gradient</span>(90deg, #b9bedd 1px, #d0d5e8 0, #d0d5e8 3px, #b9bedd 3px),</span><br><span class="line"></span><br><span class="line">                <span class="built_in">linear-gradient</span>(0deg, #9fa6d2 1px, transparent 0, transparent 15px, #9fa6d2 15px), <span class="comment">/* 2  */</span></span><br><span class="line">                <span class="built_in">linear-gradient</span>(90deg, #9fa6d2 1px, #c0c5e1 0, #c0c5e1 3px, #9fa6d2 3px),</span><br><span class="line"></span><br><span class="line">                <span class="built_in">linear-gradient</span>(0deg, #8490c6 1px, transparent 0, transparent 15px, #8490c6 15px), <span class="comment">/* 1  */</span></span><br><span class="line">                 <span class="built_in">linear-gradient</span>(90deg, #8490c6 1px, #aeb5da 0, #aeb5da 3px, #8490c6 3px); </span><br><span class="line">  </span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">background-size</span>: </span><br><span class="line">               <span class="number">4px</span> <span class="number">9px</span>,   <span class="comment">/* 6 */</span></span><br><span class="line">               <span class="number">4px</span> <span class="number">9px</span>,</span><br><span class="line"></span><br><span class="line">               <span class="number">4px</span> <span class="number">9px</span>,   <span class="comment">/* 5 */</span></span><br><span class="line">               <span class="number">4px</span> <span class="number">9px</span>,</span><br><span class="line"></span><br><span class="line">               <span class="number">4px</span> <span class="number">9px</span>,   <span class="comment">/* 4 */</span></span><br><span class="line">               <span class="number">4px</span> <span class="number">9px</span>,</span><br><span class="line"></span><br><span class="line">               <span class="number">4px</span> <span class="number">11px</span>,  <span class="comment">/* 3 */</span></span><br><span class="line">               <span class="number">4px</span> <span class="number">11px</span>,</span><br><span class="line"></span><br><span class="line">               <span class="number">4px</span> <span class="number">16px</span>,  <span class="comment">/* 2 */</span></span><br><span class="line">               <span class="number">4px</span> <span class="number">16px</span>,</span><br><span class="line"></span><br><span class="line">               <span class="number">4px</span> <span class="number">16px</span>,  <span class="comment">/* 1 */</span></span><br><span class="line">               <span class="number">4px</span> <span class="number">16px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">background-position-x</span>: -<span class="number">4px</span>; <span class="comment">/* Hide All */</span></span><br><span class="line">  <span class="attribute">background-position-y</span>: <span class="number">3px</span>, <span class="number">3px</span>, <span class="number">3px</span>, <span class="number">3px</span>, <span class="number">3px</span>, <span class="number">3px</span>, <span class="number">2px</span>, <span class="number">2px</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>所有的图形都是隐藏着，因为在x轴移动了-4px<br>让我们再想起原始的效果图。 它包含八个步骤，将每个条纹进一步向左移动。 所以我们需要做的是一个包含8个步骤的动画，而每个步骤需要12.5％的时间（100％/ 8）。 在每一步中，每个条纹都会向右移动6px。 如果x轴上的条纹位置大于16px，则它位于画布外，我们可以将它放置在-4px处以隐藏它。<br>您可能已经注意到使用background-position-y。 这为我们节省了很多代码，因为我们只需要移动x轴上的条纹就不必改变y坐标，因此我们只需要在关键帧中的x轴上写出位置的坐标动画。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">keyframes</span> wait &#123;</span><br><span class="line">  12<span class="selector-class">.5</span>% &#123;</span><br><span class="line">    <span class="attribute">background-position-x</span>: -<span class="number">4px</span>,-<span class="number">4px</span>,   -<span class="number">4px</span>, -<span class="number">4px</span>,  -<span class="number">4px</span>,-<span class="number">4px</span>,</span><br><span class="line">                           -<span class="number">4px</span>,-<span class="number">4px</span>,   -<span class="number">4px</span>, -<span class="number">4px</span>,   <span class="number">0</span>,   <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  25% &#123;</span><br><span class="line">    <span class="attribute">background-position-x</span>: -<span class="number">4px</span>, -<span class="number">4px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>,  -<span class="number">4px</span>,-<span class="number">4px</span>,</span><br><span class="line">                           -<span class="number">4px</span>, -<span class="number">4px</span>,   <span class="number">0</span>,    <span class="number">0</span>,     <span class="number">6px</span>, <span class="number">6px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  37<span class="selector-class">.5</span>% &#123;</span><br><span class="line">    <span class="attribute">background-position-x</span>: -<span class="number">4px</span>, -<span class="number">4px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>,</span><br><span class="line">                            <span class="number">0</span>,    <span class="number">0</span>,     <span class="number">6px</span>,  <span class="number">6px</span>,  <span class="number">12px</span>, <span class="number">12px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  50%&#123;</span><br><span class="line">    <span class="attribute">background-position-x</span>: -<span class="number">4px</span>, -<span class="number">4px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>,   <span class="number">0</span>,    <span class="number">0</span>,</span><br><span class="line">                            <span class="number">6px</span>,  <span class="number">6px</span>,  <span class="number">12px</span>, <span class="number">12px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  62<span class="selector-class">.5</span>% &#123;</span><br><span class="line">    <span class="attribute">background-position-x</span>: -<span class="number">4px</span>, -<span class="number">4px</span>,   <span class="number">0</span>,    <span class="number">0</span>,     <span class="number">6px</span>,  <span class="number">6px</span>,</span><br><span class="line">                           <span class="number">12px</span>, <span class="number">12px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  75% &#123;</span><br><span class="line">    <span class="attribute">background-position-x</span>:  <span class="number">0</span>,    <span class="number">0</span>,     <span class="number">6px</span>,  <span class="number">6px</span>,  <span class="number">12px</span>, <span class="number">12px</span>,</span><br><span class="line">                           -<span class="number">4px</span>, -<span class="number">4px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  87<span class="selector-class">.5</span>%&#123;</span><br><span class="line">    <span class="attribute">background-position-x</span>:  <span class="number">6px</span>,  <span class="number">6px</span>,  <span class="number">12px</span>, <span class="number">12px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>,</span><br><span class="line">                           -<span class="number">4px</span>, -<span class="number">4px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">background-position-x</span>: <span class="number">12px</span>, <span class="number">12px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>,</span><br><span class="line">                           -<span class="number">4px</span>, -<span class="number">4px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>,  -<span class="number">4px</span>, -<span class="number">4px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>因为每个条纹都由两个背景图像组成，所以我们必须在每个步骤上更改十二个背景位置（每个条纹两个）。<br>最后，我们可以将动画属性添加到我们的元素中<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">animation</span>: <span class="selector-tag">wait</span> <span class="selector-class">.80s</span> <span class="selector-tag">steps</span>(1, <span class="selector-tag">start</span>) <span class="selector-tag">infinite</span>;</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/06/21/Animation应用-loading/../../images/loading_end.gif" alt="放大6倍效果图"><br><a href="https://codepen.io/FWeinb/pen/frixk" target="_blank" rel="noopener">查看源码</a><br>注: 本文翻译自css-tricks.com的动画文章，翻译有错的地方敬请谅解，原文链接：<a href="https://css-tricks.com/the-facebook-loading-animation-in-css/" target="_blank" rel="noopener">https://css-tricks.com/the-facebook-loading-animation-in-css/</a></p>
</div><div class="tags"><a href="/tags/CSS/">CSS</a></div><div class="post-nav"><a class="pre" href="/2018/06/27/CSS3画动态曲线/">CSS3画动态曲线</a><a class="next" href="/2018/06/21/单词表/">单词表</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/个人日志/">个人日志</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书/">读书</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/运维/">运维</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/MAC/" style="font-size: 15px;">MAC</a> <a href="/tags/前端全家桶/" style="font-size: 15px;">前端全家桶</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/markdown/" style="font-size: 15px;">markdown</a> <a href="/tags/css3/" style="font-size: 15px;">css3</a> <a href="/tags/微信小程序/" style="font-size: 15px;">微信小程序</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/一条狗的日志/" style="font-size: 15px;">一条狗的日志</a> <a href="/tags/面经/" style="font-size: 15px;">面经</a> <a href="/tags/正则表达式/" style="font-size: 15px;">正则表达式</a> <a href="/tags/英语/" style="font-size: 15px;">英语</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/06/27/LNMP初始化操作/">LNMP初始化操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/27/Animation应用之Loading/">Animation应用之Loading</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/27/mpvue问题集/">mpvue问题集</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/27/CSS3画动态曲线/">CSS3画动态曲线</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/21/Animation应用-loading/">Animation应用-loading</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/21/单词表/">单词表</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/21/css3的Transform与Transition/">css3的Transform,Transition,Animation</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/21/前端rem的使用/">前端rem的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/16/Mac终端常用命令/">Mac终端常用命令</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/14/vi编辑器常用命令/">vi编辑器常用命令</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://cuiqingcai.com/" title="静觅博客" target="_blank">静觅博客</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">面具.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>